{% load thai_filters %}
<div class="bg-white rounded-lg border border-gray-200 p-4 shadow-sm" id="job-card-{{ job.pk }}">
  <div class="flex items-start justify-between gap-2">
    <div>
      <p class="text-xs text-gray-500">#{{ job.pk }}</p>
      <p class="font-semibold text-gray-900">{{ job.title }}</p>
      <p class="text-sm text-gray-600 mt-0.5">{{ job.customer.name }}</p>
    </div>
    <span class="px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 flex-shrink-0">
      {{ job.get_status_display }}
    </span>
  </div>
  {% if job.due_date %}
  <p class="text-xs text-gray-500 mt-2">กำหนด: {{ job.due_date|thai_date_short }}</p>
  {% endif %}
  <div class="mt-3 flex gap-2">
    <form hx-post="{% url 'production:update_status' job.pk %}" hx-target="#job-card-{{ job.pk }}" hx-swap="outerHTML">
      {% csrf_token %}
      <input type="hidden" name="status" value="ready">
      <button type="submit" class="px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded hover:bg-green-700 transition-colors">
        พร้อมรับ ✓
      </button>
    </form>
  </div>
</div>
